<form id="cpfForm"></form>
	<label for="cpf">CPF:</label>
	<input type="text" id="cpf" name="cpf">
	<input type="submit" value="Enviar">
</form>

<script>
function validaCPF(cpf) {
	cpf = cpf.replace(/\D+/g, '');
	if (cpf.length !== 11) return false;

	let soma = 0;
	let resto;
	if (/^(\d)\1{10}$/.test(cpf)) return false;

	for (let i = 1; i <= 9; i++) soma += parseInt(cpf.substring(i-1, i)) * (11 - i);
	resto = (soma * 10) % 11;
	if ((resto === 10) || (resto === 11)) resto = 0;
	if (resto !== parseInt(cpf.substring(9, 10))) return false;

	soma = 0;
	for (let i = 1; i <= 10; i++) soma += parseInt(cpf.substring(i-1, i)) * (12 - i);
	resto = (soma * 10) % 11;
	if ((resto === 10) || (resto === 11)) resto = 0;
	if (resto !== parseInt(cpf.substring(10, 11))) return false;

	return true;
}

document.addEventListener('DOMContentLoaded', function() {
	document.getElementById('cpfForm').addEventListener('submit', function(e) {
		var cpf = document.getElementById('cpf').value;
		if (!validaCPF(cpf)) {
			e.preventDefault();
			alert('CPF inválido. Verifique o número digitado.');
			document.getElementById('cpf').focus();
		}
	});

	document.getElementById('cpf').addEventListener('input', function(e) {
		var value = e.target.value;
		var cpfPattern = value.replace(/\D/g, '')
							  .replace(/(\d{3})(\d)/, '$1.$2')
							  .replace(/(\d{3})(\d)/, '$1.$2')
							  .replace(/(\d{3})(\d)/, '$1-$2')
							  .replace(/(-\d{2})\d+?$/, '$1');
		e.target.value = cpfPattern;
	});
});
</script>

<div id="mySidebar" class="sidebar">
   
    <i class="fas fa-user"></i>
    <a href="{% url 'polls:login' %}" target="_blank">Entre</a>
    <i class="fas fa-shopping-cart"></i>
    <i class="fas fa-camera"></i>
    <i class="fas fa-envelope"></i>
    <i class="fas fa-phone"></i> 
  </div>

  <div class="form-group">
	<h3>Endereço</h3>
	<input type="text" class="form-control" placeholder="Rua ou Av" name="rua">
  </div>
  <div>
	<input type="text" class="form-control" placeholder="Numero" name="numero">
  </div>
  <div>
	<input type="text" class="form-control" placeholder="Complemento" name="complemento">
  </div>
  <div class="form-group">
	<input type="text" class="form-control" placeholder="Bairro" name="Bairro">
  </div>
  <div class="form-group">
	<div class="form-group col-md-6">
	  <input type="text" class="form-control" placeholder="Cidade" name="cidade">
	</div>
	<div class="form-group col-md-2">
		<input oninput="mascara(this)" type="text" placeholder="CEP" name="CEP">
		<script src="{% static 'polls/javascript/cep.js'%}"></script>
		<a href="descobrir-cep.html">Não sabe seu CEP?</a>
	  </div>
	<div class="form-group col-md-4">
	  <label for="inputEstado">Estado</label>
	  <select id="inputEstado" class="form-control">
		<option selected>Escolher...</option>
		<option value="ac">Acre</option> 
		<option value="al">Alagoas</option> 
		<option value="am">Amazonas</option> 
		<option value="ap">Amapá</option> 
		<option value="ba">Bahia</option> 
		<option value="ce">Ceará</option> 
		<option value="df">Distrito Federal</option> 
		<option value="es">Espírito Santo</option> 
		<option value="go">Goiás</option> 
		<option value="ma">Maranhão</option> 
		<option value="mt">Mato Grosso</option> 
		<option value="ms">Mato Grosso do Sul</option> 
		<option value="mg">Minas Gerais</option> 
		<option value="pa">Pará</option> 
		<option value="pb">Paraíba</option> 
		<option value="pr">Paraná</option> 
		<option value="pe">Pernambuco</option> 
		<option value="pi">Piauí</option> 
		<option value="rj">Rio de Janeiro</option> 
		<option value="rn">Rio Grande do Norte</option> 
		<option value="ro">Rondônia</option> 
		<option value="rs">Rio Grande do Sul</option> 
		<option value="rr">Roraima</option> 
		<option value="sc">Santa Catarina</option> 
		<option value="se">Sergipe</option> 
		<option value="sp">São Paulo</option> 
		<option value="to">Tocantins</option> 
	  </select>
	</div>
   
  </div>
<div class="form-group">
  <label for="exampleFormControlFile1">Escolha sua foto de perfl</label>
  <input type="file" class="form-control-file" id="exampleFormControlFile1">
</div>
</form>